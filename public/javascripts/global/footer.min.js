let footer={initialise:(void 0,()=>{footer.addListener(),document.getElementById("footer-subscribe-email-input").addEventListener("keypress",({key:e})=>{"Enter"===e&&footer.subscribeSubmit()}),document.getElementById("footer-subscribe-submit").addEventListener("click",()=>{footer.subscribeSubmit()})}),addListener:(void 0,()=>{document.querySelector("#footer-subscribe").addEventListener("click",()=>footer.subscribeClick())}),subscribeClick:(void 0,()=>{document.getElementById("footer-subscribe").classList.toggle("hide"),document.getElementById("footer-subscribe-field").classList.toggle("hide")}),subscribeSubmit:(void 0,async()=>{document.querySelector("#footer-subscribe-submit").setAttribute("onclick",""),document.querySelector("#footer-subscribe-email-input").setAttribute("disabled","");const e=document.querySelector("#footer-subscribe-email-input").value;if(""===e)return notification.popup("Email is required","failed"),document.querySelector("#footer-subscribe-submit").setAttribute("onclick","footer.subscribeSubmit();"),void document.querySelector("#footer-subscribe-email-input").removeAttribute("disabled");if(!/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase()))return notification.popup("Invalid email","failed"),document.querySelector("#footer-subscribe-submit").setAttribute("onclick","footer.subscribeSubmit();"),void document.querySelector("#footer-subscribe-email-input").removeAttribute("disabled");try{await global.subscribeToMailingList(e)}catch(e){return document.querySelector("#footer-subscribe-submit").setAttribute("onclick","footer.subscribeSubmit();"),void document.querySelector("#footer-subscribe-email-input").removeAttribute("disabled")}document.querySelector("#footer-subscribe-submit").setAttribute("onclick","footer.subscribeSubmit();"),document.querySelector("#footer-subscribe-email-input").removeAttribute("disabled"),document.querySelector("#footer-subscribe-email-input").value="",footer.subscribeClick()})};
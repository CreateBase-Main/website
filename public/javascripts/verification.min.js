let verification={initialise:(void 0,async()=>{try{await global.initialise()}catch(e){return}removeLoader(),inputListener()}),sendVerification:(void 0,async()=>{let e;document.querySelector("#codeSubmitBtn").setAttribute("disabled","");try{e=(await axios.get("/account/send-verification")).data}catch(t){e={status:"error",content:t}}"error"!==e.status&&"failed"!==e.status&&(document.querySelector("#codeSubmitBtn").removeAttribute("disabled"),notification.popup("Email Verification Sent"))})};const verifyCode=async()=>{document.querySelector(".verifyBtn");let e,t=document.querySelectorAll(".verifyClass"),i=concatInput();if(null==i||i.length<t.length){for(e=0;e<t.length;e++){let i=t[e];i.classList.add("inputError"),setTimeout((function(){i.classList.remove("inputError")}),1e3),document.querySelector("#instrucText").innerHTML="Input complete code",document.querySelector("#instrucText").style.color="red"}return}const n={code:i};let r;try{r=(await axios.post("/account/verify",n)).data}catch(e){return}if("failed"!==r.status)window.location.href="/verified";else for(e=0;e<t.length;e++){let i=t[e];i.classList.add("inputError"),setTimeout((function(){i.classList.remove("inputError")}),1e3),"incorrect code"===r.content&&(document.querySelector("#instrucText").innerHTML="Incorrect code",document.querySelector("#instrucText").style.color="red")}},concatInput=()=>{let e="",t=document.querySelector("#codeForm");for(let i=0;i<t.elements.length;i++)e+=t.elements[i].value;return e},checkRegex=e=>{let t=RegExp(/[\d]+/),i=e.key;return!!t.test(i)},inputListener=()=>{let e,t=document.querySelectorAll(".verifyClass");for(e=0;e<t.length;e++){let i=t[e];i.addEventListener("keydown",(function(e){checkRegex(e)?null!=this.nextSibling.nextSibling?(this.value=e.key,this.nextSibling.nextSibling.value="",this.nextSibling.nextSibling.focus()):this.value=e.key:8==e.keyCode?null!=this.previousSibling.previousSibling&&(this.value="",this.previousSibling.previousSibling.focus()):(e.preventDefault(),i.value="")}))}};
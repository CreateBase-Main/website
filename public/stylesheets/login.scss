$diamond: 35vw; /* all.scss uses $diamond so it must be declared first */
@import 'all';
@import 'hamburger';

$largest-font: 5vw;

// -----------------------------------
// Webpage
// -----------------------------------
body {
  background: linear-gradient(to right, $dark-3, black);
  display: flex;
  justify-content: center;
  align-items: center;
  flex-direction: row;
  font-family: $poppins;
  line-height: 1.5; 
  height: 100vh;

  * {
    transition: opacity 0.6s ease-in;
  }

  // -----------------------------------
  // Navbar
  // -----------------------------------
  nav {
    position: absolute;
    left: 0px;
    top: 0px;
    z-index: 1000;
    background: $light-1;
    font-family: $montserrat;

    .nav-wiper {
      width: 50px;
      height: 100vh;
      left: 0;
      display: grid;
      grid-template-rows: repeat(3, 1fr);
      background: $light-1;
      border-right: 1.1px solid $light-2;
      position: absolute;
      justify-items: center;
      transition: left 0.6s cubic-bezier(.21,.65,.44,.99);

      #nav-logo {
        cursor: default;

        img {
          cursor: pointer;
          padding: 12.5px;
          width: 50px;
          margin-top: 3vh;
          transition: margin-left 0.6s cubic-bezier(.21,.65,.44,.99);
        }
      } 
        
    }

    .nav-sidebar {
      width: 25px;
      height: 100vh;
      display: grid;
      grid-template-rows: repeat(4, 1fr);
      background: $light-1;
      position: absolute;
      transition: width 0.6s cubic-bezier(.21,.65,.44,.99);
      overflow: hidden;
  
      .nav-services,
      .nav-createbase,
      .nav-socials {
        display: flex;
        flex-direction: column;
        margin-left: -10px;
        transition: margin-left 0.6s linear;
      }

      .nav-header {
        font-family: $poppins;
        font-weight: 900;
        font-size: 10px;
        letter-spacing: 1px;
        color: $dark-1;
        margin-left: 25px;
        margin-bottom: 3vh;
      }
  
      .nav-item {
        margin-left: 25px;
        margin-bottom: 1.5vh;
        color: $dark-3;
      }
  
      .nav-socials {
        font-size: 25px;
  
        * {
          margin-left: 100px;
          margin-top: 1vh;
          cursor: pointer;
        }
      }
    }

    &:hover {
      .nav-wiper {
        left: 200px;
      }
      .nav-sidebar {
        width: 225px;

        .nav-services,
        .nav-createbase,
        .nav-socials {
          margin-left: 0px;
        }
      }
    }


  }

  nav:hover ~ * {
    opacity: 0.95;
    transition: opacity 0.6s cubic-bezier(.35,.03,.44,.99);
  }

  // -----------------------------------
  // Main Content
  // -----------------------------------
  .login-main-container {
    background: $light-1;
    overflow: hidden;
    width: 50vw;

    .login-form-container {
      position: absolute;
      top: 0;
      height: 100%;
      transition: all 0.6s ease-in-out; 
    }

    // -----------------------------------
    // Hello window
    // -----------------------------------
    .hello-container {
      left: 0;
      width: 50%;
      z-index: 2;
      background: $light-1;
      display: grid;
      grid-template-areas: 
        'logo logo'
        'hello hello'
        'signup login';
      grid-template-rows: 2fr 2fr 2fr;
      
      // Logo
      #hello-logo {
        display: block;
        grid-area: logo;
        justify-self: center;
        align-self: end;

        img { width: 15vw; 
        }
      }
      
      // Hello, _____.
      #hello-creator {
        grid-area: hello;
        font-size: $largest-font;
        align-self: center;
        margin-left: calc((50vw - 8 * #{$largest-font})/2);

        #change-text {
          position: relative;
          padding: 10px; 
        }
      }
      
      // Signup button
      #hello-signup {
        grid-area: signup;
        justify-self: end;
        margin-right: 1vw; 
      }

      // Login button
      #hello-login {
        grid-area: login;
        margin-left: 1vw;

        &:before { 
          animation-delay: 0.2s !important; 
        }
        &:after { 
          animation-delay: 0.4s !important; 
        }
      }
    }

    // -----------------------------------
    // Login Window
    // -----------------------------------
    .login-container {
      left: 0;
      width: 50%;
      visibility: hidden;
      z-index: 1;
      background: $light-1;
      display: grid;
      grid-template-rows: 75vh 10vh 15vh;
      align-items: center;
      justify-items: center;

      .log-in-form {
        display: grid;
        grid-template-rows: 5vh 36vh 10vh 10vh 14vh;
        align-items: center;
        justify-items: center;
        width: 100%;
  
        #login-logo {
          display: block;
          justify-self: flex-end;
          align-self: flex-start;
          margin-top: 3vh;
          margin-right: 3vw;
  
          img { 
            width: 7.5vw; 
          }
        }
  
        h2 {
          font-size: 1vw;
          letter-spacing: 0.25vw; 
        }

        #login-login {
          align-self: flex-end; 
        }
      }

      #back-btn {
        align-self: center;
        justify-self: center;

        &:before { 
          animation-delay: random() + s !important; 
        }
        &:after { 
          animation-delay: random() + s !important; 
        }
      }
      
      #login-signup {
        align-self: flex-end;
        justify-self: center;
        font-size: 0.75vw;
        margin-bottom: 2vh;

        a {
          color: $highlight;
        }
      }
    }
  }
}

.login-main-container.right-panel-active .hello-container {
  transform: translateX(100%); 
}
.login-main-container.right-panel-active .login-container {
	transform: translateX(100%);
	visibility: visible;
	z-index: 5;
  animation: show 0.6s; 
}

// -----------------------------------
// Sliding window
// -----------------------------------
.login-overlay-container {
  position: absolute;
  top: 0;
  left: 50%;
  width: 50%;
  height: 100vh;
  overflow: hidden;
  transition: transform 0.6s ease-in-out;
  z-index: 100;

  .login-overlay {
    background: linear-gradient(to right, $dark-3, black);
    position: relative;
    left: -100%;
    height: 100%;
    width: 200%;
    transform: translateX(0);
    transition: transform 0.6s ease-in-out;
    
    .login-overlay-left {
      transform: translateX(-20%);

      .login-layer-left { 
        margin-left: -75%; 
      }
    }
    .login-overlay-right {
      right: 0;
      transform: translateX(0);

      .login-layer-right { 
        margin-left: 0%; 
      }
    }
  }
}

.login-main-container.right-panel-active .login-overlay {
  transform: translateX(50%); 
}
.login-main-container.right-panel-active .login-overlay-container{
  transform: translateX(-100%); 
}
.login-main-container.right-panel-active .login-overlay-left {
  transform: translateX(0%); 
}
.login-main-container.right-panel-active .login-overlay-right {
  transform: translateX(20%); 
}

@keyframes show {
	0%, 49.99% {
		visibility: hidden;
    z-index: 1; 
  }
	
	50%, 100% {
		visibility: visible;
    z-index: 5; 
  }
}



// -----------------------------------
// Button Class
// -----------------------------------

// -----------------------------------
// Glitch animation
// -----------------------------------
.glitch {
  position: relative;
  padding: 10px; 
}
.glitch::after {
  content: attr(data-text);
  position: absolute;
  left: 3px;
  text-shadow: 2px 0 greenyellow;
  background: $light-1;
  overflow: hidden;
  visibility: hidden;
  animation: noise-anim 10s infinite linear alternate-reverse; 
}
.glitch::before {
  content: attr(data-text);
  position: absolute;
  left: -3px;
  text-shadow: -2px 0 magenta;
  background: $light-1;
  overflow: hidden;
  visibility: hidden;
  animation: noise-anim-2 8s infinite linear alternate-reverse; 
}

@keyframes noise-anim {
  $steps: 240;
  @for $i from 0 through $steps {
    #{percentage($i*(1/$steps))} {
      $top: random(100);
      $bottom: random(101 - $top);
      clip-path: inset(#{$top}% 0 #{$bottom}% 0);
      padding: random(20)px - 20px;
      visibility: visible; 
    }
  }
}
@keyframes noise-anim-2 {
  $steps: 150;
  @for $i from 0 through $steps {
    #{percentage($i*(1/$steps))} {
      $top: random(100);
      $bottom: random(101 - $top);
      clip-path: inset(#{$top}% 0 #{$bottom}% 0);
      padding: random(30)px - 30px;
      visibility: visible; 
    }
  }
}



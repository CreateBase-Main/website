<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta http-equiv="X-UA-Compatible" content="ie=edge" />
  <link rel="icon" href="./../../public/images/logo-icon.png" />
  <title>My Projects â€¢ CreateBase</title>
  <!------------------ FONTS ------------------>
  <link href="https://fonts.googleapis.com/css?family=Montserrat|Poppins&display=swap" rel="stylesheet" />
  <!------------------ ICONS ------------------>
  <script src="https://kit.fontawesome.com/b382730141.js" crossorigin="anonymous"></script>
  <!----------- DEFAULT JAVASCRIPTS ----------->
  <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
  <script src="./../../public/javascripts/moment.js"></script>
  <!------------ CUSTOM JAVASCRIPTS ----------->
  <script src="./../../public/javascripts/nav.js"></script>
  <script src="./../../public/javascripts/profile.js"></script>
  <!---------------- STYLESHEET --------------->
  <link rel="stylesheet" href="./../../public/stylesheets/profile.css" />
</head>

<body onload="navInit(); profileInit();">
  <nav class="nav-container">
    <div class="nav-darken-overlay"></div>
    <div class="nav-top-bar">
      <button class="hamburger hamburger-spin" type="button">
        <span class="hamburger-box">
          <span class="hamburger-inner"></span>
        </span>
      </button>
      <a href="/" class="nav-home-btn">
        <img src="./../../public/images/logo-icon.png" class="nav-logo" alt="CreateBase" />
      </a>
      <div class="nav-user-icon">
        <img src="./../../public/images/user-out-highlight.png" class="nav-user-hlt" alt="User" />
        <img src="/profile/customer/fetch/picture" id="nav-user-reg" alt="User" />
        <img src="./../../public/images/user-x.png" id="nav-user-x" alt="User" />
      </div>
      <div class="nav-user-button">
        <a href="/login" class="nav-user-login">LOG IN</a>
        <a href="/signup" class="nav-user-signup">SIGN UP</a>
      </div>
    </div>
    <div class="nav-side-menus">
      <div class="nav-left-menu-wrap">
        <div class="nav-left-menu">
          <div class="nav-side-menu-links">
            <p class="nav-side-header">SERVICES</p>
            <span class="nav-item-outer">
              <a href="/3d-printing" class="nav-item-inner">3D PRINTING</a>
              <a href="/services/3d-printing" class="info">i</a>
            </span>
            <span class="nav-item-outer">
              <a href="/services/marketplace" class="nav-item-inner">MARKETPLACE</a>
              <a href="/services/marketplace" class="info">i</a>
            </span>
            <div class="nav-sep"></div>
            <p class="nav-side-header">PRODUCTS</p>
            <span class="nav-item-outer">
              <a href="/products/engkits" class="nav-item-inner">ENGINEERING KITS</a>
              <a href="/products/engkits" class="info">i</a>
            </span>
            <div class="nav-sep"></div>
            <p class="nav-side-header">CREATEBASE</p>
            <a href="/story" class="nav-side-item">OUR STORY</a>
            <a href="/team" class="nav-side-item">OUR TEAM</a>
          </div>
          <div class="nav-side-socials">
            <a href="https://www.facebook.com/" class="fab fa-facebook-square" target="_blank"></a>
            <a href="https://www.instagram.com/" class="fab fa-instagram" target="_blank"></a>
            <a href="https://twitter.com/" class="fab fa-twitter" target="_blank"></a>
            <a href="https://www.youtube.com/user/LouiiL" class="fab fa-youtube" target="_blank"></a>
          </div>
        </div>
      </div>
      <div class="nav-right-menu-out">
        <div class="nav-right-menu">
          <img src="/profile/customer/fetch/picture" class="nav-dp" id="nav-dp-mobile"></img>
          <p class="nav-side-header">WELCOME BACK</p>
          <a href="/login" class="nav-side-item">LOG IN</a>
          <div class="nav-sep"></div>
          <p class="nav-side-header">FIRST TIME?</p>
          <a href="/signup" class="nav-side-item">SIGN UP</a>
        </div>
      </div>
      <div class="nav-right-menu-in">
        <div class="nav-right-menu">
          <img src="/profile/customer/fetch/picture" class="nav-dp" id="nav-dp-desktop"></img>
          <p class="nav-side-header">PROJECTS</p>
          <a href="/profile" class="nav-side-item" data-tab="projects" onclick="passTab(this);">MY PROJECTS</a>
          <div class="nav-sep"></div>
          <p class="nav-side-header">ACCOUNT</p>
          <a href="/profile" class="nav-side-item" data-tab="projects" onclick="passTab(this);">MY PROFILE</a>
          <a href="/profile" class="nav-side-item" data-tab="settings" onclick="passTab(this);">SETTINGS</a>
          <a href="/profile" class="nav-side-item" data-tab="billing" onclick="passTab(this);">BILLING</a>
          <a href="/logout" class="nav-side-signout">SIGN OUT</a>
        </div>
      </div>
    </div>
  </nav>
  <form id="profile-upload-form" style="display: none;">
    <input type="file" name="picture" id="profile-upload" accept=".png, .jpg, .jpeg" onchange="loadFile(event);">
  </form>
  <div id="profile-page">
    <div class="my-profile-section">
      <div id="profile-pic">
        <label for="profile-upload"><i class="far fa-edit"></i></label>
        <img src="/profile/customer/fetch/picture" id="profile-preview"></img>
      </div>
      <p id="profile-name" data-placeholder="Display Name"></p>
      <p id="profile-location" data-info="Edit location under the Billing tab."></p>
      <p id="profile-bio" data-placeholder="Tell us a bit about yourself!"></p>
      <div class="profile-edit">
        <div id="profile-cancel-btn">Cancel</div>
        <div class="reg-btn" id="profile-save-btn" onclick="profileUploadPicture();">Save</div>
        <div class="reg-btn" id="profile-edit-btn">Edit</div>
      </div>
    </div>
    <div class="profile-tabs-bar">
      <input type="radio" id="projects-tab" name="tab" data-tab="projects" onclick="passTab(this);">
      <label for="projects-tab">Projects</label>
      <input type="radio" id="settings-tab" name="tab" data-tab="settings" onclick="passTab(this);">
      <label for="settings-tab">Settings</label>
      <input type="radio" id="billing-tab" name="tab" data-tab="billing" onclick="passTab(this);">
      <label for="billing-tab">Billing</label>
      <div class="main-area" id="projects-area">
        <p>Projects</p>
      </div>
      <div class="main-area" id="settings-area">
        <p>Settings</p>
      </div>
      <div class="main-area" id="billing-area">
        <p>Billing</p>
      </div>
    </div>
  </div>

</body>

<script>
  const profileUploadPicture = async () => {
    const file = new FormData(document.querySelector("#profile-upload-form"));
      let data;
      try {
        data = (await axios.post("/profile/customer/update/picture", file))["data"];
      } catch (error) {
        console.log(error);
        return;
      }
      console.log(data);
  }
</script>

</html>
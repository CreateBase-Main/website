/*=========================================================================================
REQUIRED MODULES
=========================================================================================*/

const mongoose = require("mongoose");

/*=========================================================================================
VARIABLES
=========================================================================================*/

const Schema = mongoose.Schema;

/*=========================================================================================
CREATE DISCOUNT MODEL
=========================================================================================*/

const DiscountSchema = new Schema({
  name: {
    type: String,
    required: true
  },
  code: {
    type: String,
    required: true
  },
  rate: {
    type: Number,
    required: true
  },
  duration: {
    type: {
      type: String,
      required: true
    },
    date: {
      start: {
        type: String,
        default: ""
      },
      end: {
        type: String,
        default: ""
      }
    }
  },
  audience: {
    type: {
      type: String,
      required: true
    },
    accounts: {
      type: [String],
      default: []
    },
    customers: {
      type: [Schema.Types.ObjectId],
      default: []
    }
  }
});

/*=========================================================================================
STATIC
=========================================================================================*/

// @FUNC  create
// @TYPE  ASYNCHRONOUS PROMISE
// @DESC  
// @ARGU
DiscountSchema.statics.create = function () {
  return new Promise(async (resolve, reject) => {

  });
};

/*=========================================================================================
METHOD
=========================================================================================*/

/*=========================================================================================
EXPORT ACCOUNT MODEL
=========================================================================================*/

module.exports = Discount = mongoose.model("discounts", DiscountSchema);

/*=========================================================================================
END
=========================================================================================*/

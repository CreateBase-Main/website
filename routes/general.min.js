"production"!==process.env.NODE_ENV&&require("dotenv").config();const express=require("express"),path=require("path"),router=new express.Router,viewsOption={root:path.join(__dirname,"../views")},Mail=require("../model/Mail.js");router.get("/",(e,t)=>t.sendFile("home.html",viewsOption)),router.get("/story",(e,t)=>t.sendFile("story.html",viewsOption)),router.get("/team",(e,t)=>t.sendFile("team.html",viewsOption)),router.get("/products/kits",(e,t)=>t.sendFile("kits.html",viewsOption)),router.get("/services/3d-printing",(e,t)=>t.sendFile("printing.html",viewsOption)),router.get("/terms-and-conditions",(e,t)=>t.sendFile("terms-and-conditions.html",viewsOption)),router.get("/contact",(e,t)=>t.sendFile("contact-us.html",viewsOption)),router.get("/privacy-policy",(e,t)=>t.sendFile("privacy-policy.html",viewsOption)),router.get("/survey",(e,t)=>t.sendFile("survey.html",viewsOption)),router.get("/unsubscribe/:email",async(e,t)=>{const i=e.params.email;let r=!0;if(""===i?r=!1:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(i).toLowerCase())||(r=!1),r){try{await Mail.demolish({email:i})}catch(e){return t.status(404).sendFile("error404.html",viewsOption)}return t.sendFile("unsubscribe.html",viewsOption)}return t.status(404).sendFile("error404.html",viewsOption)}),router.get("/robots.txt",(e,t)=>t.sendFile("robots.txt",viewsOption)),module.exports=router;